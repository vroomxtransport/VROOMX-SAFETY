@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================================================================
   VroomX Safety - MODERN GLOSSY DESIGN SYSTEM
   Industrial Luxury meets Glass Morphism
   ================================================================ */

/* ==================== CSS CUSTOM PROPERTIES ==================== */

/* Light Mode (Default) - Navy/Orange/Green Professional Theme */
:root {
  /* Background Colors */
  --color-background: #F8FAFC;
  --color-surface: #FFFFFF;
  --color-surface-elevated: #FFFFFF;
  --color-surface-sunken: #F1F5F9;

  /* Text Colors */
  --text-primary: #1E293B;
  --text-secondary: #475569;
  --text-muted: #94A3B8;
  --text-inverted: #ffffff;

  /* Glass Properties - Light Mode */
  --glass-bg: rgba(255, 255, 255, 0.85);
  --glass-bg-solid: rgba(255, 255, 255, 0.95);
  --glass-border: rgba(226, 232, 240, 1);
  --glass-border-hover: rgba(30, 58, 95, 0.2);
  --glass-shine: rgba(255, 255, 255, 1);
  --glass-shine-subtle: rgba(255, 255, 255, 0.6);
  --glass-shadow: rgba(30, 58, 95, 0.08);

  /* Primary - Navy Blue (Trust & Authority) */
  --color-primary-50: #EFF6FF;
  --color-primary-100: #DBEAFE;
  --color-primary-200: #BFDBFE;
  --color-primary-300: #93C5FD;
  --color-primary-400: #2D5A87;
  --color-primary-500: #1E3A5F;
  --color-primary-600: #1E3A5F;
  --color-primary-700: #152A45;
  --color-primary-800: #0F1F33;
  --color-primary-900: #0A1525;
  --color-primary-950: #050A12;

  /* CTA - Orange (Action & Conversion) - Darker for WCAG contrast */
  --color-cta-400: #FB923C;
  --color-cta-500: #EA580C;  /* Darkened for 4.5:1 contrast on white */
  --color-cta-600: #C2410C;

  /* Success - Green (Compliance) */
  --color-success-500: #22C55E;
  --color-success-600: #16A34A;

  /* AI Accent - Indigo */
  --color-ai-500: #6366F1;
  --color-ai-100: #E0E7FF;

  /* Shadow Tokens - Light Mode */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 1px 3px 0 rgba(30, 58, 95, 0.08), 0 1px 2px -1px rgba(30, 58, 95, 0.08);
  --shadow-md: 0 4px 6px -1px rgba(30, 58, 95, 0.1), 0 2px 4px -2px rgba(30, 58, 95, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(30, 58, 95, 0.1), 0 4px 6px -4px rgba(30, 58, 95, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(30, 58, 95, 0.1), 0 8px 10px -6px rgba(30, 58, 95, 0.1);
  --shadow-glow: 0 4px 14px 0 rgba(249, 115, 22, 0.4);
  --shadow-glow-sm: 0 2px 8px 0 rgba(249, 115, 22, 0.3);
  --shadow-glow-lg: 0 8px 24px 0 rgba(249, 115, 22, 0.5);
  --shadow-inner-shine: inset 0 1px 0 0 rgba(255, 255, 255, 0.9);

  /* Glossy Effects */
  --glossy-gradient: linear-gradient(135deg, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 50%);
  --glossy-border: linear-gradient(135deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.2) 100%);

  /* Transition Tokens */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-spring: 400ms cubic-bezier(0.34, 1.56, 0.64, 1);

  /* Border Radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.25rem;

  /* Toast colors */
  --toast-bg: #ffffff;
  --toast-color: #1E293B;
}

/* Dark Mode */
.dark {
  /* Background Colors */
  --color-background: #000000;
  --color-surface: #0a0a0a;
  --color-surface-elevated: #141414;
  --color-surface-sunken: #050505;

  /* Text Colors */
  --text-primary: #fafafa;
  --text-secondary: #a1a1aa;
  --text-muted: #71717a;
  --text-inverted: #18181b;

  /* Glass Properties - Dark Mode */
  --glass-bg: rgba(255, 255, 255, 0.03);
  --glass-bg-solid: rgba(20, 20, 20, 0.95);
  --glass-border: rgba(255, 255, 255, 0.08);
  --glass-border-hover: rgba(255, 255, 255, 0.15);
  --glass-shine: rgba(255, 255, 255, 0.08);
  --glass-shine-subtle: rgba(255, 255, 255, 0.04);
  --glass-shadow: rgba(0, 0, 0, 0.5);

  /* Shadow Tokens - Dark Mode */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.4), 0 1px 2px -1px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -2px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -4px rgba(0, 0, 0, 0.5);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.6), 0 8px 10px -6px rgba(0, 0, 0, 0.6);
  --shadow-glow: 0 0 25px rgba(225, 29, 72, 0.4);
  --shadow-glow-sm: 0 0 12px rgba(225, 29, 72, 0.3);
  --shadow-glow-lg: 0 0 50px rgba(225, 29, 72, 0.5);
  --shadow-inner-shine: inset 0 1px 0 0 rgba(255, 255, 255, 0.08);

  /* Glossy Effects */
  --glossy-gradient: linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0) 50%);
  --glossy-border: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.02) 100%);

  /* Toast colors */
  --toast-bg: #171717;
  --toast-color: #fafafa;
}

/* ==================== BASE STYLES ==================== */
html {
  scroll-behavior: smooth;
}

body {
  background-color: var(--color-background);
  color: var(--text-primary);
  font-family: 'Inter', system-ui, sans-serif;
  font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Headings use Outfit */
h1, h2, h3, h4, h5, h6 {
  font-family: 'Outfit', system-ui, sans-serif;
  @apply text-zinc-900 dark:text-white;
}

/* ==================== TYPEWRITER ANIMATION ==================== */
/* GPU-accelerated: using clip-path instead of width */
.typewriter-text {
  overflow: hidden;
  white-space: nowrap;
  border-right: 4px solid #1E3A5F;
  animation: typing 5s steps(12, end), blink 0.75s step-end infinite;
  clip-path: inset(0 100% 0 0);
}

@keyframes typing {
  0%, 10% { clip-path: inset(0 100% 0 0); }
  40%, 60% { clip-path: inset(0 0 0 0); }
  90%, 100% { clip-path: inset(0 100% 0 0); }
}

@keyframes blink {
  from, to { border-color: transparent; }
  50% { border-color: #1E3A5F; }
}

/* Chat transition animations */
.chat-fade-enter {
  opacity: 0;
  transform: translateY(10px);
}
.chat-fade-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 0.3s ease, transform 0.3s ease;
}
.chat-fade-exit {
  opacity: 1;
}
.chat-fade-exit-active {
  opacity: 0;
  transition: opacity 0.2s ease;
}

/* ==================== CUSTOM SCROLLBAR ==================== */

/* Light mode scrollbar */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: #f4f4f5;
  border-radius: 5px;
}

::-webkit-scrollbar-thumb {
  background: #d4d4d8;
  border-radius: 5px;
  border: 2px solid transparent;
  background-clip: content-box;
}

::-webkit-scrollbar-thumb:hover {
  background: #a1a1aa;
  background-clip: content-box;
}

/* Dark mode scrollbar */
.dark ::-webkit-scrollbar-track {
  background: #0a0a0a;
}

.dark ::-webkit-scrollbar-thumb {
  background: #27272a;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #3f3f46;
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: #d4d4d8 #f4f4f5;
}

.dark * {
  scrollbar-color: #27272a #0a0a0a;
}

/* ==================== GLASS UTILITIES ==================== */
@layer components {
  /* Basic Glass Effect */
  .glass {
    background: var(--glass-bg);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-sm);
  }

  /* Glossy Glass Card - Premium Effect */
  .glass-glossy {
    position: relative;
    background: var(--glass-bg-solid);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    box-shadow:
      var(--shadow-inner-shine),
      var(--shadow-md);
    transition: all 0.3s ease;
  }

  .glass-glossy::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--glossy-gradient);
    border-radius: inherit;
    pointer-events: none;
  }

  .glass-glossy:hover {
    border-color: var(--glass-border-hover);
    box-shadow:
      var(--shadow-inner-shine),
      var(--shadow-lg);
  }

  /* Glass Card with Subtle Effect */
  .glass-card {
    background: var(--glass-bg-solid);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-md);
  }

  .glass-card-hover {
    transition: all 0.3s ease;
  }

  .glass-card-hover:hover {
    border-color: rgba(30, 58, 95, 0.3);
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
  }

  /* Glass Surface */
  .glass-surface {
    background: var(--glass-bg-solid);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
  }
}

/* ==================== TEXT GRADIENTS ==================== */
@layer utilities {
  .text-gradient {
    background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-muted) 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .text-gradient-primary {
    background: linear-gradient(135deg, #F97316 0%, #EA580C 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }
}

/* ==================== BUTTON COMPONENTS ==================== */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2.5
           font-semibold rounded-lg transition-all duration-200
           focus:outline-none focus:ring-2 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
    focus-ring-offset-color: var(--color-background);
  }

  .btn-primary {
    @apply text-white;
    background: linear-gradient(135deg, #F97316, #EA580C);
    box-shadow:
      inset 0 1px 0 0 rgba(255, 255, 255, 0.15),
      0 1px 3px 0 rgba(0, 0, 0, 0.2);
  }

  .btn-primary:hover:not(:disabled) {
    box-shadow:
      inset 0 1px 0 0 rgba(255, 255, 255, 0.15),
      var(--shadow-glow);
    transform: translateY(-1px);
  }

  .btn-primary:active:not(:disabled) {
    transform: translateY(0);
    box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.2);
  }

  .btn-primary:focus {
    --tw-ring-color: rgba(249, 115, 22, 0.5);
  }

  .btn-glow {
    position: relative;
    background: linear-gradient(135deg, #F97316, #EA580C);
    overflow: hidden;
    transition: all 0.3s ease;
    z-index: 1;
    @apply text-white font-bold;
  }

  .btn-glow::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 300%;
    bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    animation: shine 3s linear infinite;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
    will-change: transform;
  }

  .btn-glow::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 100%);
    border-radius: inherit;
    pointer-events: none;
  }

  .btn-glow:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-glow);
  }

  .btn-glow:hover::before {
    opacity: 1;
  }

  /* GPU-accelerated: using transform instead of background-position */
  @keyframes shine {
    from { transform: translateX(0); }
    to { transform: translateX(66.67%); }
  }

  .btn-secondary {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    color: var(--text-primary);
    box-shadow: var(--shadow-inner-shine);
  }

  .btn-secondary:hover:not(:disabled) {
    background: var(--glass-bg-solid);
    border-color: var(--glass-border-hover);
  }

  .btn-ghost {
    background: transparent;
    color: var(--text-secondary);
  }

  .btn-ghost:hover:not(:disabled) {
    background: var(--glass-bg);
    color: var(--text-primary);
  }

  .btn-accent {
    background: linear-gradient(135deg, #EA580C, #F97316);
    @apply text-white;
    box-shadow: var(--shadow-inner-shine);
  }

  .btn-accent:hover:not(:disabled) {
    box-shadow: var(--shadow-glow);
  }

  .btn-danger {
    @apply bg-danger-600 text-white hover:bg-danger-700;
  }

  .btn-success {
    @apply text-white;
    background: linear-gradient(135deg, #22c55e, #16a34a);
  }

  .btn-sm {
    @apply px-3 py-1.5 text-sm;
  }

  .btn-lg {
    @apply px-6 py-3.5 text-base;
  }

  /* Icon button for table actions */
  .btn-icon {
    @apply p-2 rounded-lg transition-colors;
    color: var(--text-muted);
  }

  .btn-icon:hover {
    background: var(--glass-bg);
    color: var(--text-primary);
  }

  .btn-icon-danger {
    @apply text-red-600 dark:text-red-400;
  }

  .btn-icon-danger:hover {
    @apply bg-red-50 dark:bg-red-500/10;
  }

  /* Outline button */
  .btn-outline {
    @apply bg-transparent border;
    border-color: var(--glass-border);
    color: var(--text-primary);
  }

  .btn-outline:hover:not(:disabled) {
    background: var(--glass-bg);
    border-color: var(--glass-border-hover);
  }

  /* Text/Link button */
  .btn-link {
    @apply bg-transparent p-0 font-medium;
    color: var(--color-cta-500);
  }

  .btn-link:hover:not(:disabled) {
    color: var(--color-cta-600);
    text-decoration: underline;
  }
}

/* ==================== CARD COMPONENTS ==================== */
@layer components {
  .card {
    @apply rounded-xl;
    background: var(--color-surface);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-sm);
  }

  .card-elevated {
    @apply rounded-xl;
    background: var(--color-surface-elevated);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-md);
  }

  .card-elevated:hover {
    box-shadow: var(--shadow-lg);
  }

  /* Premium Glossy Card */
  .card-glossy {
    @apply rounded-xl overflow-hidden;
    position: relative;
    background: var(--color-surface);
    border: 1px solid var(--glass-border);
    box-shadow:
      var(--shadow-inner-shine),
      var(--shadow-md);
  }

  .card-glossy::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: var(--glossy-gradient);
    pointer-events: none;
    border-radius: inherit;
  }

  .card-interactive {
    @apply rounded-xl cursor-pointer;
    background: var(--color-surface);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-sm);
    transition: all var(--transition-base);
  }

  .card-interactive:hover {
    border-color: rgba(225, 29, 72, 0.3);
    box-shadow: var(--shadow-glow-sm);
    transform: translateY(-2px);
  }

  .card-header {
    @apply px-5 py-4 border-b;
    border-color: var(--glass-border);
    background: var(--color-surface-sunken);
  }

  .card-body {
    @apply p-5;
  }

  .card-footer {
    @apply px-5 py-4 border-t rounded-b-xl;
    border-color: var(--glass-border);
    background: var(--color-surface-sunken);
  }

  .card-accent {
    @apply rounded-xl overflow-hidden;
    background: var(--color-surface);
    box-shadow: var(--shadow-md);
  }

  .card-accent-bar {
    @apply h-1 w-full;
    background: linear-gradient(90deg, #EA580C, #F97316);
  }

  .card-accent-bar-success {
    background: linear-gradient(90deg, #22c55e, #4ade80);
  }

  .card-accent-bar-warning {
    background: linear-gradient(90deg, #eab308, #facc15);
  }

  .card-accent-bar-danger {
    background: linear-gradient(90deg, #ef4444, #f87171);
  }
}

/* ==================== FORM COMPONENTS ==================== */
@layer components {
  .form-input {
    @apply w-full px-4 py-3 rounded-lg transition-all duration-200 focus:outline-none;
    background: var(--color-surface-sunken);
    border: 1px solid var(--glass-border);
    color: var(--text-primary);
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
  }

  .form-input::placeholder {
    color: var(--text-muted);
  }

  .form-input:hover:not(:focus) {
    border-color: var(--glass-border-hover);
  }

  .form-input:focus {
    background: var(--color-surface);
    border-color: rgba(225, 29, 72, 0.5);
    box-shadow:
      0 0 0 3px rgba(225, 29, 72, 0.1),
      inset 0 1px 2px rgba(0, 0, 0, 0.05);
  }

  .dark .form-input {
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  .dark .form-input:focus {
    box-shadow:
      0 0 0 3px rgba(225, 29, 72, 0.15),
      0 0 20px rgba(225, 29, 72, 0.08),
      inset 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  .form-label {
    @apply block text-sm font-medium mb-2;
    color: var(--text-secondary);
  }

  .form-select {
    @apply form-input appearance-none cursor-pointer;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2371717a' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
  }

  .form-checkbox {
    @apply w-4 h-4 rounded cursor-pointer;
    background: var(--color-surface-sunken);
    border: 1px solid var(--glass-border-hover);
  }

  .form-checkbox:checked {
    background: linear-gradient(135deg, #EA580C, #F97316);
    border-color: #F97316;
  }
}

/* ==================== TABLE COMPONENTS ==================== */
@layer components {
  .table-container {
    @apply rounded-xl overflow-hidden;
    background: var(--color-surface);
    border: 1px solid var(--glass-border);
  }

  .table {
    @apply w-full text-sm;
  }

  .table thead {
    background: var(--color-surface-sunken);
  }

  .table thead tr {
    border-bottom: 1px solid var(--glass-border);
  }

  .table th {
    @apply px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider;
    color: var(--text-muted);
  }

  .table tbody {
    @apply divide-y;
    --tw-divide-opacity: 1;
    border-color: var(--glass-border);
  }

  .table tbody tr {
    transition: background-color 0.15s ease;
  }

  .table tbody tr:hover {
    background-color: rgba(225, 29, 72, 0.03);
  }

  .dark .table tbody tr:hover {
    background-color: rgba(225, 29, 72, 0.05);
  }

  .table td {
    @apply px-4 py-4;
    color: var(--text-secondary);
  }
}

/* ==================== BADGE COMPONENTS ==================== */
@layer components {
  .badge {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold rounded-full;
    box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  }

  /* Light mode badges */
  .badge-success {
    background-color: rgba(34, 197, 94, 0.12);
    color: #15803d;
    border: 1px solid rgba(34, 197, 94, 0.25);
  }

  .badge-warning {
    background-color: rgba(234, 179, 8, 0.12);
    color: #a16207;
    border: 1px solid rgba(234, 179, 8, 0.25);
  }

  .badge-danger {
    background-color: rgba(239, 68, 68, 0.12);
    color: #b91c1c;
    border: 1px solid rgba(239, 68, 68, 0.25);
  }

  .badge-info {
    background-color: rgba(59, 130, 246, 0.12);
    color: #1d4ed8;
    border: 1px solid rgba(59, 130, 246, 0.25);
  }

  .badge-primary {
    background-color: rgba(225, 29, 72, 0.12);
    color: #EA580C;
    border: 1px solid rgba(225, 29, 72, 0.25);
  }

  .badge-neutral {
    background-color: var(--glass-bg);
    color: var(--text-muted);
    border: 1px solid var(--glass-border);
  }

  /* Dark mode badges */
  .dark .badge-success {
    background-color: rgba(34, 197, 94, 0.15);
    color: #4ade80;
    border-color: rgba(34, 197, 94, 0.3);
  }

  .dark .badge-warning {
    background-color: rgba(234, 179, 8, 0.15);
    color: #facc15;
    border-color: rgba(234, 179, 8, 0.3);
  }

  .dark .badge-danger {
    background-color: rgba(239, 68, 68, 0.15);
    color: #f87171;
    border-color: rgba(239, 68, 68, 0.3);
  }

  .dark .badge-info {
    background-color: rgba(59, 130, 246, 0.15);
    color: #60a5fa;
    border-color: rgba(59, 130, 246, 0.3);
  }

  .dark .badge-primary {
    background-color: rgba(225, 29, 72, 0.15);
    color: #fb7185;
    border-color: rgba(225, 29, 72, 0.3);
  }
}

/* ==================== MODAL COMPONENTS ==================== */
@layer components {
  .modal-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center p-4;
    background-color: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
  }

  .dark .modal-overlay {
    background-color: rgba(0, 0, 0, 0.8);
  }

  .modal-content {
    @apply w-full max-w-lg rounded-2xl overflow-hidden;
    background: var(--color-surface);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-xl), 0 0 0 1px var(--glass-border);
  }

  .modal-header {
    @apply px-6 py-4 border-b flex items-center gap-4;
    border-color: var(--glass-border);
    background: var(--color-surface-sunken);
  }

  .modal-header-icon {
    @apply w-10 h-10 rounded-lg flex items-center justify-center;
    background: rgba(225, 29, 72, 0.1);
    color: #F97316;
  }

  .dark .modal-header-icon {
    background: rgba(225, 29, 72, 0.15);
    color: #fb7185;
  }

  .modal-title {
    @apply text-lg font-bold font-heading;
    color: var(--text-primary);
  }

  .modal-body {
    @apply p-6;
  }

  .modal-footer {
    @apply px-6 py-4 border-t flex justify-end gap-3;
    border-color: var(--glass-border);
    background: var(--color-surface-sunken);
  }
}

/* ==================== SIDEBAR COMPONENTS ==================== */
@layer components {
  .sidebar {
    @apply fixed inset-y-0 left-0 z-50 w-64 flex flex-col;
    background: var(--color-surface);
    border-right: 1px solid var(--glass-border);
  }

  .dark .sidebar {
    background: linear-gradient(180deg, #0a0a0a 0%, #000000 100%);
  }

  .sidebar-header {
    @apply flex items-center gap-3 px-5 py-5;
    border-bottom: 1px solid var(--glass-border);
  }

  .sidebar-nav {
    @apply flex-1 px-3 py-4 space-y-1 overflow-y-auto;
  }

  .sidebar-link {
    @apply relative flex items-center gap-3 px-4 py-3 mx-0 rounded-lg
           transition-all duration-200;
    color: var(--text-secondary);
  }

  .sidebar-link:hover {
    background: var(--glass-bg);
    color: var(--text-primary);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  }

  .dark .sidebar-link:hover {
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.03);
  }

  .sidebar-link.active {
    background: rgba(225, 29, 72, 0.08);
    color: var(--text-primary);
  }

  .dark .sidebar-link.active {
    background: rgba(225, 29, 72, 0.1);
  }

  .sidebar-link.active::before {
    content: '';
    @apply absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 rounded-r-full;
    background: linear-gradient(180deg, #F97316, #EA580C);
  }

  .sidebar-link-icon {
    @apply flex items-center justify-center w-9 h-9 rounded-lg
           transition-colors duration-200;
    background: var(--glass-bg);
    color: var(--text-muted);
  }

  .sidebar-link:hover .sidebar-link-icon {
    background: var(--glass-bg-solid);
    color: var(--text-secondary);
  }

  .sidebar-link.active .sidebar-link-icon {
    background: rgba(225, 29, 72, 0.15);
    color: #F97316;
  }

  .dark .sidebar-link.active .sidebar-link-icon {
    background: rgba(225, 29, 72, 0.2);
    color: #fb7185;
  }
}

/* ==================== LOADING SPINNER ==================== */
@layer components {
  .spinner {
    @apply rounded-full border-4;
    border-color: var(--glass-border);
    border-top-color: #F97316;
    animation: spin 0.8s linear infinite;
  }

  .spinner-sm {
    @apply w-5 h-5 border-2;
  }

  .spinner-md {
    @apply w-8 h-8 border-4;
  }

  .spinner-lg {
    @apply w-12 h-12 border-4;
  }
}

/* ==================== BACKGROUND PATTERNS ==================== */
@layer utilities {
  .bg-grid-pattern {
    background-size: 40px 40px;
    background-image: linear-gradient(to right, var(--glass-border) 1px, transparent 1px),
      linear-gradient(to bottom, var(--glass-border) 1px, transparent 1px);
    mask-image: radial-gradient(ellipse at center, black 0%, transparent 70%);
  }

  .bg-noise {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    opacity: 0.02;
  }
}

/* ==================== ANIMATION UTILITIES ==================== */
@layer utilities {
  .animation-delay-100 { animation-delay: 100ms; }
  .animation-delay-200 { animation-delay: 200ms; }
  .animation-delay-300 { animation-delay: 300ms; }
  .animation-delay-400 { animation-delay: 400ms; }
  .animation-delay-500 { animation-delay: 500ms; }
}

/* ==================== STATS / METRIC CARDS ==================== */
@layer components {
  .stat-card {
    @apply relative rounded-xl p-5 overflow-hidden;
    background: var(--color-surface);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-inner-shine), var(--shadow-sm);
  }

  .stat-card::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-300;
    background: radial-gradient(circle at top right, rgba(225, 29, 72, 0.08), transparent 70%);
  }

  .stat-card:hover::before {
    @apply opacity-100;
  }

  .stat-value {
    @apply text-3xl font-bold font-heading;
    color: var(--text-primary);
  }

  .stat-label {
    @apply text-sm mt-1;
    color: var(--text-muted);
  }

  .stat-icon {
    @apply w-12 h-12 rounded-lg flex items-center justify-center;
    background: rgba(225, 29, 72, 0.1);
    color: #F97316;
  }

  .dark .stat-icon {
    background: rgba(225, 29, 72, 0.15);
    color: #fb7185;
  }
}

/* ==================== DROPDOWN / MENU ==================== */
@layer components {
  .dropdown-menu {
    @apply absolute z-50 mt-2 rounded-xl overflow-hidden;
    background: var(--color-surface);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-xl);
    backdrop-filter: blur(12px);
  }

  .dropdown-item {
    @apply flex items-center gap-3 px-4 py-3 text-sm cursor-pointer;
    color: var(--text-secondary);
    transition: all 0.15s ease;
  }

  .dropdown-item:hover {
    background: var(--glass-bg);
    color: var(--text-primary);
  }

  .dropdown-item-icon {
    @apply w-8 h-8 rounded-lg flex items-center justify-center;
    background: var(--glass-bg);
  }

  .dropdown-divider {
    @apply my-1;
    border-top: 1px solid var(--glass-border);
  }
}

/* ==================== ALERT COMPONENTS ==================== */
@layer components {
  .alert {
    @apply flex items-start gap-4 p-4 rounded-xl;
    border: 1px solid var(--glass-border);
  }

  .alert-success {
    background: rgba(34, 197, 94, 0.08);
    border-color: rgba(34, 197, 94, 0.2);
  }

  .alert-warning {
    background: rgba(234, 179, 8, 0.08);
    border-color: rgba(234, 179, 8, 0.2);
  }

  .alert-danger {
    background: rgba(239, 68, 68, 0.08);
    border-color: rgba(239, 68, 68, 0.2);
  }

  .alert-info {
    background: rgba(59, 130, 246, 0.08);
    border-color: rgba(59, 130, 246, 0.2);
  }

  .dark .alert-success {
    background: rgba(34, 197, 94, 0.1);
    border-color: rgba(34, 197, 94, 0.25);
  }

  .dark .alert-warning {
    background: rgba(234, 179, 8, 0.1);
    border-color: rgba(234, 179, 8, 0.25);
  }

  .dark .alert-danger {
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.25);
  }

  .dark .alert-info {
    background: rgba(59, 130, 246, 0.1);
    border-color: rgba(59, 130, 246, 0.25);
  }
}

/* ==================== TABS ==================== */
@layer components {
  .tabs {
    @apply flex gap-1 p-1 rounded-lg;
    background: var(--glass-bg);
  }

  .tab {
    @apply px-4 py-2 rounded-md text-sm font-medium cursor-pointer;
    color: var(--text-muted);
    transition: all 0.2s ease;
  }

  .tab:hover {
    color: var(--text-primary);
  }

  .tab.active {
    background: rgba(225, 29, 72, 0.1);
    color: #F97316;
  }

  .dark .tab.active {
    background: rgba(225, 29, 72, 0.15);
    color: #fb7185;
  }
}

/* ==================== PROGRESS BAR ==================== */
@layer components {
  .progress {
    @apply h-2 rounded-full overflow-hidden;
    background: var(--glass-bg);
  }

  .progress-bar {
    @apply h-full rounded-full transition-all duration-500;
    background: linear-gradient(90deg, #EA580C, #F97316);
    box-shadow: 0 0 10px rgba(225, 29, 72, 0.4);
  }

  .progress-bar-success {
    background: linear-gradient(90deg, #16a34a, #22c55e);
    box-shadow: 0 0 10px rgba(34, 197, 94, 0.4);
  }

  .progress-bar-warning {
    background: linear-gradient(90deg, #ca8a04, #eab308);
    box-shadow: 0 0 10px rgba(234, 179, 8, 0.4);
  }

  .progress-bar-danger {
    background: linear-gradient(90deg, #dc2626, #ef4444);
    box-shadow: 0 0 10px rgba(239, 68, 68, 0.4);
  }
}

/* ==================== TOOLTIP ==================== */
@layer components {
  .tooltip {
    @apply absolute z-50 px-3 py-2 text-xs font-medium rounded-lg
           opacity-0 invisible transition-all duration-200;
    background: var(--color-surface-elevated);
    color: var(--text-primary);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-lg);
  }

  .tooltip.show {
    @apply opacity-100 visible;
  }
}

/* ==================== EMPTY STATE ==================== */
@layer components {
  .empty-state {
    @apply flex flex-col items-center justify-center py-16 text-center;
  }

  .empty-state-icon {
    @apply w-16 h-16 rounded-2xl flex items-center justify-center mb-6;
    background: var(--glass-bg);
    color: var(--text-muted);
  }

  .empty-state-title {
    @apply text-lg font-semibold mb-2 font-heading;
    color: var(--text-primary);
  }

  .empty-state-description {
    @apply text-sm max-w-sm;
    color: var(--text-muted);
  }
}

/* ==================== AVATAR ==================== */
@layer components {
  .avatar {
    @apply relative inline-flex items-center justify-center rounded-lg
           font-semibold overflow-hidden;
    background: linear-gradient(135deg, #52525b, #3f3f46);
    color: var(--text-inverted);
  }

  .dark .avatar {
    background: linear-gradient(135deg, #3f3f46, #27272a);
    color: #fafafa;
  }

  .avatar-sm { @apply w-8 h-8 text-xs; }
  .avatar-md { @apply w-10 h-10 text-sm; }
  .avatar-lg { @apply w-12 h-12 text-base; }
  .avatar-xl { @apply w-16 h-16 text-lg; }

  .avatar-status {
    @apply absolute bottom-0 right-0 w-3 h-3 rounded-full;
    border: 2px solid var(--color-surface);
  }

  .avatar-status-online { @apply bg-green-500; }
  .avatar-status-offline { @apply bg-zinc-500; }
  .avatar-status-busy { @apply bg-red-500; }
}

/* ==================== LANDING PAGE SPECIFIC ==================== */
@layer components {
  .landing-hero {
    @apply relative min-h-screen flex items-center justify-center overflow-hidden;
    background: var(--color-background);
  }

  .landing-blob {
    @apply absolute rounded-full blur-[100px] animate-blob;
  }

  .landing-grid {
    @apply absolute inset-0 bg-grid-pattern opacity-10;
  }
}

/* ==================== CHART STYLING ==================== */
.recharts-cartesian-grid line {
  stroke: var(--glass-border);
}

.recharts-tooltip-wrapper .recharts-default-tooltip {
  background: var(--color-surface) !important;
  border: 1px solid var(--glass-border) !important;
  border-radius: 0.75rem !important;
  box-shadow: var(--shadow-lg) !important;
}

.recharts-tooltip-wrapper .recharts-default-tooltip .recharts-tooltip-label {
  color: var(--text-primary) !important;
  font-weight: 600 !important;
}

.recharts-tooltip-wrapper .recharts-default-tooltip .recharts-tooltip-item {
  color: var(--text-secondary) !important;
}

/* ==================== DASHBOARD GAUGE ANIMATIONS ==================== */

/* Compliance score gauge animation */
@keyframes gaugeAnimation {
  from {
    stroke-dashoffset: 283;
  }
}

.gauge-circle {
  animation: gaugeAnimation 1.5s ease-out forwards;
}

/* Card hover effect for dashboard */
.card-hover {
  transition: all 0.3s ease;
}

.card-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 40px -12px rgba(0, 0, 0, 0.15);
}

.dark .card-hover:hover {
  box-shadow: 0 12px 40px -12px rgba(0, 0, 0, 0.4);
}

/* Glow effects for status colors */
.glow-green {
  box-shadow: 0 0 20px rgba(34, 197, 94, 0.2);
}

.glow-yellow {
  box-shadow: 0 0 20px rgba(234, 179, 8, 0.2);
}

.glow-red {
  box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);
}

.dark .glow-green {
  box-shadow: 0 0 20px rgba(34, 197, 94, 0.3);
}

.dark .glow-yellow {
  box-shadow: 0 0 20px rgba(234, 179, 8, 0.3);
}

.dark .glow-red {
  box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
}

/* ==================== CSA CHECKER ANIMATIONS ==================== */

/* Scanning line animation */
@keyframes scan {
  0% {
    transform: translateY(-100%);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(calc(100vh));
    opacity: 0;
  }
}

.animate-scan {
  animation: scan 2s ease-in-out infinite;
}

/* Shimmer effect for score bars */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.animate-shimmer {
  animation: shimmer 1.5s ease-in-out;
}

/* Fade in animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.5s ease-out forwards;
}

/* Pulse glow for warnings */
@keyframes pulseGlow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(239, 68, 68, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.5);
  }
}

.animate-pulse-glow {
  animation: pulseGlow 2s ease-in-out infinite;
}

/* Staggered fade-in for lists */
.stagger-fade-in > * {
  opacity: 0;
  animation: fadeIn 0.4s ease-out forwards;
}

.stagger-fade-in > *:nth-child(1) { animation-delay: 0.1s; }
.stagger-fade-in > *:nth-child(2) { animation-delay: 0.15s; }
.stagger-fade-in > *:nth-child(3) { animation-delay: 0.2s; }
.stagger-fade-in > *:nth-child(4) { animation-delay: 0.25s; }
.stagger-fade-in > *:nth-child(5) { animation-delay: 0.3s; }
.stagger-fade-in > *:nth-child(6) { animation-delay: 0.35s; }
.stagger-fade-in > *:nth-child(7) { animation-delay: 0.4s; }

/* Score bar fill animation */
@keyframes scoreFill {
  from {
    width: 0;
  }
}

.score-bar-animate {
  animation: scoreFill 1s ease-out forwards;
}

/* ==================== CSA CHECKER PREMIUM EFFECTS ==================== */

/* 3D Floating Card Effect */
.csa-card-3d {
  transform: perspective(1000px) rotateY(-2deg) rotateX(1deg);
  transform-style: preserve-3d;
  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  /* Fix for blurry text caused by 3D transforms */
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  will-change: transform;
  -webkit-font-smoothing: subpixel-antialiased;
}

.csa-card-3d:hover {
  transform: perspective(1000px) rotateY(0deg) rotateX(0deg);
}

/* Terminal-style header with gradient */
.csa-terminal-header {
  background: linear-gradient(90deg, rgba(225,29,72,0.08) 0%, transparent 60%);
  border-bottom: 1px solid rgba(225,29,72,0.15);
}

/* Inner edge glow effect */
.csa-inner-glow {
  box-shadow:
    inset 0 1px 0 0 rgba(255,255,255,0.05),
    inset 0 0 30px rgba(225,29,72,0.08),
    0 0 40px rgba(225,29,72,0.1);
}

/* Score bar surge animation */
@keyframes scoreSurge {
  0% {
    width: 0;
    filter: brightness(1.8);
    box-shadow: 0 0 15px currentColor;
  }
  60% {
    filter: brightness(1.3);
    box-shadow: 0 0 10px currentColor;
  }
  100% {
    filter: brightness(1);
    box-shadow: 0 0 5px currentColor;
  }
}

.score-bar-surge {
  animation: scoreSurge 0.8s ease-out forwards;
}

/* Data pulse for loading states */
@keyframes dataPulse {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 1; }
}

.data-pulse {
  animation: dataPulse 1.2s ease-in-out infinite;
}

/* Progress bar fill animation */
@keyframes progressFill {
  0% { width: 0%; }
  100% { width: 100%; }
}

.progress-fill-animate {
  animation: progressFill 2s ease-out forwards;
}

/* Cyber scan line effect */
@keyframes cyberScan {
  0% {
    transform: translateY(-100%);
    opacity: 0;
  }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% {
    transform: translateY(500%);
    opacity: 0;
  }
}

.cyber-scan-line {
  animation: cyberScan 1.5s ease-in-out infinite;
}

/* Glow input focus effect */
.csa-input-glow:focus {
  border-color: rgba(225, 29, 72, 0.5);
  box-shadow:
    0 0 0 3px rgba(225, 29, 72, 0.1),
    0 0 20px rgba(225, 29, 72, 0.15),
    inset 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* Status dot pulse - GPU-accelerated using pseudo-element + transform */
.status-dot-pulse {
  position: relative;
}

.status-dot-pulse::after {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 50%;
  border: 2px solid rgba(34, 197, 94, 0.4);
  animation: pulseRing 2s ease-in-out infinite;
  pointer-events: none;
  will-change: transform, opacity;
}

@keyframes pulseRing {
  0%, 100% {
    transform: scale(0.5);
    opacity: 1;
  }
  50% {
    transform: scale(1.3);
    opacity: 0;
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
  }
  50% {
    transform: translateY(-10px) rotate(3deg);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* Mouse scroll indicator animation */
@keyframes scrollDown {
  0% {
    transform: translateY(0);
    opacity: 1;
  }
  75% {
    transform: translateY(8px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 0;
  }
}

.animate-scroll-down {
  animation: scrollDown 1.5s ease-in-out infinite;
}

/* ==================== ANIMATION PERFORMANCE ==================== */
/* Optimize animations with will-change and GPU acceleration */
.animate-blob {
  will-change: transform;
}

.animate-scan,
.animate-shimmer,
.animate-pulse-glow,
.cyber-scan-line {
  will-change: transform, opacity;
}

/* Reduced motion support for accessibility */
@media (prefers-reduced-motion: reduce) {
  .animate-blob,
  .animate-scan,
  .animate-shimmer,
  .animate-pulse-glow,
  .animate-fade-in,
  .cyber-scan-line,
  .score-bar-animate,
  .score-bar-surge,
  .data-pulse,
  .status-dot-pulse,
  .typewriter-text,
  .btn-glow::before {
    animation: none !important;
  }

  .typewriter-text {
    width: 100% !important;
    border-right: none !important;
  }

  * {
    transition-duration: 0.01ms !important;
  }
}

/* ==================== SHARP CORPORATE UTILITIES ==================== */
@layer utilities {
  /* Tight letter spacing for corporate headlines */
  .letter-tight {
    letter-spacing: -0.02em;
  }

  .letter-tighter {
    letter-spacing: -0.03em;
  }

  /* Thin border utility */
  .border-thin {
    border-width: 1px;
  }

  /* Grid lines background pattern */
  .bg-grid-lines {
    background-image:
      linear-gradient(to right, rgba(30, 58, 95, 0.05) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(30, 58, 95, 0.05) 1px, transparent 1px);
    background-size: 60px 60px;
  }

  /* Geometric lines background pattern */
  .bg-geometric-lines {
    background-image:
      linear-gradient(45deg, rgba(30, 58, 95, 0.03) 1px, transparent 1px),
      linear-gradient(-45deg, rgba(30, 58, 95, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  /* Corporate grid background - larger squares */
  .bg-corporate-grid {
    background-image:
      linear-gradient(to right, rgba(30, 58, 95, 0.08) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(30, 58, 95, 0.08) 1px, transparent 1px);
    background-size: 80px 80px;
  }
}

/* ==================== PRINT STYLES ==================== */
@media print {
  body {
    background: white !important;
    color: black !important;
  }

  .sidebar, .modal-overlay, .btn {
    display: none !important;
  }

  .card {
    background: white !important;
    border: 1px solid #e5e7eb !important;
    box-shadow: none !important;
  }
}
